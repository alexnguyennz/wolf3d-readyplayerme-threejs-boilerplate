/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/es6-tween@5.5.11/src/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function e(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}var r=e,n=i;function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===e||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}"function"==typeof t.setTimeout&&(r=setTimeout),"function"==typeof t.clearTimeout&&(n=clearTimeout);var o,a=[],l=!1,u=-1;function f(){l&&o&&(l=!1,o.length?a=o.concat(a):u=-1,a.length&&h())}function h(){if(!l){var t=s(f);l=!0;for(var e=a.length;e;){for(o=a,a=[];++u<e;)o&&o[u].run();u=-1,e=a.length}o=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function c(t,e){this.fun=t,this.array=e}c.prototype.run=function(){this.fun.apply(null,this.array)};function p(){}var d=p,m=p,y=p,_=p,g=p,b=p,T=p;var v=t.performance||{},w=v.now||v.mozNow||v.msNow||v.oNow||v.webkitNow||function(){return(new Date).getTime()};var A=new Date;var E={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.push(new c(t,e)),1!==a.length||l||s(h)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:d,addListener:m,once:y,off:_,removeListener:g,removeAllListeners:b,emit:T,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*w.call(v),i=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(i-=t[0],(r-=t[1])<0&&(i--,r+=1e9)),[i,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-A)/1e3}};let M="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof exports?exports:{},S=M.requestAnimationFrame||(t=>M.setTimeout(t,50/3)),O=M.cancelAnimationFrame||(t=>M.clearTimeout(t));const j=function(){if(void 0===E||void 0===E.hrtime||E.versions&&void 0!==E.versions.electron){if(void 0!==M.performance&&void 0!==M.performance.now)return M.performance.now.bind(M.performance);{const t=M.performance&&M.performance.timing&&M.performance.timing.navigationStart?M.performance.timing.navigationStart:Date.now();return function(){return Date.now()-t}}}return function(){const t=E.hrtime();return 1e3*t[0]+t[1]/1e6}}(),R=[];
/**
 * Lightweight, effecient and modular ES6 version of tween.js
 * @copyright 2019 @dalisoft and es6-tween contributors
 * @license MIT
 * @namespace TWEEN
 * @example
 * // ES6
 * const {add, remove, isRunning, autoPlay} = TWEEN
 */let L=!1,I=!1,P=[];const F=S;let x,N=0,C=120,k=!0;const q=t=>{P.push(t)},D=t=>{let e=R.indexOf(t);e>-1&&R.splice(e,1),R.push(t),N=0,I&&!L&&(x=F(X),L=!0)},U=t=>R.push({update:t}),V=(t=120)=>{C=1.05*t},B=(t=!0)=>{k=t},G=()=>R,z=t=>{I=t},Q=()=>{R.length=0,O(x),L=!1},K=t=>{for(let e=0;e<R.length;e++)if(t===R[e])return R[e];return null},H=t=>null!==K(t),W=t=>{const e=R.indexOf(t);-1!==e&&R.splice(e,1),0===R.length&&(O(x),L=!1)},X=(t=j(),e)=>{if(N>=C&&k)return L=!1,N=0,O(x),!1;I&&L?x=F(X):(()=>{for(let t=0;t<P.length;t++)P[t]()})(),R.length||N++;let i=0,r=R.length;for(;i<r;)R[i++].update(t,e),r>R.length&&i--,r=R.length;return!0},Y=()=>L,Z=()=>k,$={},J={Linear:{None:t=>t},Quadratic:{In:t=>Math.pow(t,2),Out:t=>t*(2-t),InOut:t=>(t*=2)<1?.5*Math.pow(t,2):-.5*(--t*(t-2)-1)},Cubic:{In:t=>Math.pow(t,3),Out:t=>--t*t*t+1,InOut:t=>(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*t*t+2)},Quartic:{In:t=>Math.pow(t,4),Out:t=>1- --t*t*t*t,InOut:t=>(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*t*t*t-2)},Quintic:{In:t=>Math.pow(t,5),Out:t=>--t*t*t*t*t+1,InOut:t=>(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*t*t*t*t+2)},Sinusoidal:{In:t=>1-Math.cos(t*Math.PI/2),Out:t=>Math.sin(t*Math.PI/2),InOut:t=>.5*(1-Math.cos(Math.PI*t))},Exponential:{In:t=>0===t?0:Math.pow(1024,t-1),Out:t=>1===t?1:1-Math.pow(2,-10*t),InOut:t=>0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},Circular:{In:t=>1-Math.sqrt(1-t*t),Out:t=>Math.sqrt(1- --t*t),InOut:t=>(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},Elastic:{In:t=>0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI),Out:t=>0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1,InOut:t=>0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1},Back:{In(t){const e=1.70158;return t*t*((e+1)*t-e)},Out(t){const e=1.70158;return--t*t*((e+1)*t+e)+1},InOut(t){const e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:t=>1-J.Bounce.Out(1-t),Out(t){let e=2.75,i=7.5625;return t<1/e?i*t*t:t<2/e?i*(t-=1.5/e)*t+.75:t<2.5/e?i*(t-=2.25/e)*t+.9375:i*(t-=2.625/e)*t+.984375},InOut:t=>t<.5?.5*J.Bounce.In(2*t):.5*J.Bounce.Out(2*t-1)+.5},Stepped:{steps:t=>e=>(e*t|0)/t}},tt=50/3,et="_chainedTweens",it="Callback",rt="update",nt="complete",st="start",ot="repeat",at="reverse",lt="pause",ut="play",ft="restart",ht="stop",ct="seek",pt="STRING_PROP",dt=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function mt(t){if(t&&t.nodeType||void 0===t||"object"!=typeof t)return t;if(Array.isArray(t))return[].concat(t);if("object"==typeof t){let e={};for(let i in t)e[i]=mt(t[i]);return e}return t}const yt=t=>isNaN(+t)||("+"===t[0]||"-"===t[0])&&"="===t[1]||""===t||" "===t,_t=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,gt=(t,e)=>{let i,r,n;3===e.length&&(i=e[0],r=e[1],n=e[2],e=i+i+r+r+n+n);let s=parseInt(e,16);return i=s>>16&255,r=s>>8&255,n=255&s,"rgb("+i+", "+r+", "+n+")"};function bt(t){if(t&&t.splice&&t.isString)return t;if("string"!=typeof t)return t;if("="===t.charAt(1))return t;const e=t.replace(_t,gt).match(dt).map((t=>yt(t)?t:+t));return e.isString=!0,e}function Tt(t,e,i,r){const n=i[t],s=r[t];if(n===s)return!0;if(Array.isArray(n)&&Array.isArray(s)&&n.length===s.length)for(let i=0,r=s.length;i<r;i++){const r=n[i],o=s[i];r===o||"number"==typeof r&&"number"==typeof o||Tt(i,e[t],n,s)}if("number"==typeof n&&"number"==typeof s);else if(n&&n.splice&&n.isString&&s&&s.splice&&s.isString);else{if("string"==typeof n&&Array.isArray(s)){const e=bt(n),o=s.map(bt);return i[t]=e,r[t]=o,!0}if("string"==typeof n||"string"==typeof s){let e=Array.isArray(n)&&n[0]===pt?n:bt(n),o=Array.isArray(s)&&s[0]===pt?s:bt(s);if(void 0===e)return;let a=1;for(;a<e.length;)e[a]===o[a]&&"string"==typeof e[a-1]?(e.splice(a-1,2,e[a-1]+e[a]),o.splice(a-1,2,o[a-1]+o[a])):a++;return a=0,e[0]===pt&&e.shift(),o[0]===pt&&o.shift(),i[t]=e,r[t]=o,!0}if("object"==typeof n&&"object"==typeof s){if(Array.isArray(n)&&!n.isString)return n.map(((i,r)=>Tt(r,e[t],n,s)));for(let i in s)Tt(i,e[t],n,s);return!0}}return!1}const vt="rgb(",wt="rgba(",At=(t,e,i=vt)=>"number"==typeof t[e]&&(t[e-1]===i||t[e-3]===i||t[e-5]===i);function Et(t,e,i,r,n,s,o){const a=o?i:i[t];let l=o?r:r[t];if(void 0===l)return a;if(void 0===a||"string"==typeof a||a===l)return l;if("object"==typeof a&&"object"==typeof l){if(!a||!l)return e[t];if("object"==typeof a&&a&&a.isString&&l&&l.splice&&l.isString){let i="";for(let t=0,e=a.length;t<e;t++)if(a[t]!==l[t]||"number"!=typeof a[t]||"number"==typeof l[t]){const e="number"==typeof a[t]&&"string"==typeof l[t]&&"="===l[t][1];let r="number"!=typeof a[t]?a[t]:e?a[t]+parseFloat(l[t][0]+l[t].substr(2))*n:a[t]+(l[t]-a[t])*n;(At(a,t)||At(a,t,wt))&&(r|=0),i+=r,e&&1===s&&(a[t]=a[t]+parseFloat(l[t][0]+l[t].substr(2)))}else i+=a[t];return o||(e[t]=i),i}if(Array.isArray(a)&&a[0]!==pt)for(let i=0,r=a.length;i<r;i++)a[i]!==l[i]&&"string"!=typeof e[t]&&Et(i,e[t],a,l,n,s);else if("object"==typeof a&&a&&!a.isString)for(let i in a)a[i]!==l[i]&&Et(i,e[t],a,l,n,s)}else if("number"==typeof a){const r="string"==typeof l;e[t]=r?a+parseFloat(l[0]+l.substr(2))*n:a+(l-a)*n,r&&1===s&&(i[t]=e[t])}else"function"==typeof l&&(e[t]=l(n));return e[t]}const Mt=/([.[])/g,St=/\]/g,Ot=function(t,e){const i=t[e],r=e.replace(St,"").split(Mt),n=r.length-1;let s=Array.isArray(t),o="object"==typeof t&&!s;return o?(t[e]=null,delete t[e]):s&&t.splice(e,1),r.reduce(((t,e,a)=>{s&&"."!==e&&"["!==e&&(e*=1);let l="["===r[a+1];if("."===e||"["===e)return"."===e?(o=!0,s=!1):"["===e&&(o=!1,s=!0),t;if(void 0===t[e]){if(s||o)return t[e]=a===n?i:s||l?[]:o?{}:null,o=s=!1,t[e]}else if(void 0!==t[e])return a===n&&(t[e]=i),t[e];return t}),t)},jt=function(t){if("object"==typeof t&&t)for(let e in t)if(-1!==e.indexOf(".")||-1!==e.indexOf("["))Ot(t,e);else if("object"==typeof t[e]&&t[e]){let i=t[e];for(let t in i)if(-1!==t.indexOf(".")||-1!==t.indexOf("["))Ot(i,t);else if("object"==typeof i[t]&&i[t]){let e=i[t];for(let t in e)-1===t.indexOf(".")&&-1===t.indexOf("[")||Ot(e,t)}}return t};var Rt=Object.freeze({__proto__:null,FRAME_MS:tt,TOO_LONG_FRAME_MS:250,CHAINED_TWEENS:et,EVENT_CALLBACK:it,EVENT_UPDATE:rt,EVENT_COMPLETE:nt,EVENT_START:st,EVENT_REPEAT:ot,EVENT_REVERSE:at,EVENT_PAUSE:lt,EVENT_PLAY:ut,EVENT_RESTART:ft,EVENT_STOP:ht,EVENT_SEEK:ct,STRING_PROP:pt,NUM_REGEX:dt,deepCopy:mt,decomposeString:bt,decompose:Tt,RGB:vt,RGBA:wt,isRGBColor:At,recompose:Et,SET_NESTED:jt});const Lt={Linear(t,e,i){const r=t.length-1,n=r*e,s=Math.floor(n),o=Lt.Utils.Linear;return e<0?o(t[0],t[1],n,i):e>1?o(t[r],t[r-1],r-n,i):o(t[s],t[s+1>r?r:s+1],n-s,i)},Bezier(t,e,i){let r=Lt.Utils.Reset(i),n=t.length-1,s=Math.pow,o=Lt.Utils.Bernstein,a=Array.isArray(r);for(let i=0;i<=n;i++)if("number"==typeof r)r+=s(1-e,n-i)*s(e,i)*t[i]*o(n,i);else if(a)for(let a=0,l=r.length;a<l;a++)"number"==typeof r[a]?r[a]+=s(1-e,n-i)*s(e,i)*t[i][a]*o(n,i):r[a]=t[i][a];else if("object"==typeof r)for(let a in r)"number"==typeof r[a]?r[a]+=s(1-e,n-i)*s(e,i)*t[i][a]*o(n,i):r[a]=t[i][a];else if("string"==typeof r){let i="",r=t[Math.round(n*e)];for(let t=1,e=r.length;t<e;t++)i+=r[t];return i}return r},CatmullRom(t,e,i){const r=t.length-1;let n=r*e,s=Math.floor(n);const o=Lt.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(s=Math.floor(n=r*(1+e))),o(t[(s-1+r)%r],t[s],t[(s+1)%r],t[(s+2)%r],n-s,i)):e<0?o(t[1],t[1],t[0],t[0],-e,i):e>1?o(t[r-1],t[r-1],t[r],t[r],(0|e)-e,i):o(t[s?s-1:0],t[s],t[r<s+1?r:s+1],t[r<s+2?r:s+2],n-s,i)},Utils:{Linear(t,e,i,r){if(t===e||"string"==typeof t){if(e.length&&e.splice&&e.isString){e="";for(let i=0,r=t.length;i<r;i++)e+=t[i]}return e}if("number"==typeof t)return"function"==typeof t?t(i):t+(e-t)*i;if("object"==typeof t){if(void 0!==t.length){const n="string"==typeof t[0]||t.isString;if(n||t[0]===pt){let r="";for(let s=n?0:1,o=t.length;s<o;s++){let n=0===i?t[s]:1===i?e[s]:"number"==typeof t[s]?t[s]+(e[s]-t[s])*i:e[s];(i>0&&i<1&&At(t,s)||At(t,s,wt))&&(n|=0),r+=n}return r}if(r&&r.length&&r.splice)for(let n=0,s=r.length;n<s;n++)r[n]=Lt.Utils.Linear(t[n],e[n],i,r[n])}else for(const n in r)r[n]=Lt.Utils.Linear(t[n],e[n],i,r[n]);return r}},Reset(t){if(Array.isArray(t)){for(let e=0,i=t.length;e<i;e++)t[e]=Lt.Utils.Reset(t[e]);return t}if("object"==typeof t){for(let e in t)t[e]=Lt.Utils.Reset(t[e]);return t}return"number"==typeof t?0:t},Bernstein(t,e){const i=Lt.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){const t=[1];return e=>{let i=1;if(t[e])return t[e];for(let t=e;t>1;t--)i*=t;return t[e]=i,i}}(),CatmullRom(t,e,i,r,n,s){if("string"==typeof t)return e;if("number"==typeof t){const s=.5*(i-t),o=.5*(r-e),a=n*n;return(2*e-2*i+s+o)*(n*a)+(-3*e+3*i-2*s-o)*a+s*n+e}if("object"==typeof t){if(void 0!==t.length){if(t[0]===pt){let s="";for(let o=1,a=t.length;o<a;o++){let a="number"==typeof t[o]?Lt.Utils.CatmullRom(t[o],e[o],i[o],r[o],n):r[o];(At(t,o)||At(t,o,wt))&&(a|=0),s+=a}return s}for(let o=0,a=s.length;o<a;o++)s[o]=Lt.Utils.CatmullRom(t[o],e[o],i[o],r[o],n,s[o])}else for(const o in s)s[o]=Lt.Utils.CatmullRom(t[o],e[o],i[o],r[o],n,s[o]);return s}}}},It={};function Pt(t,e,i){if(!t||!t.nodeType)return e;const r=t.queueID||"q_"+Date.now();t.queueID||(t.queueID=r);const n=It[r];if(n){if(n.object===e&&t===n.tween.node&&i._startTime===n.tween._startTime)W(n.tween);else if("object"==typeof e&&e&&n.object){for(let t in e)t in n.object&&(i._startTime===n.tween._startTime?delete n.object[t]:n.propNormaliseRequired=!0);Object.assign(n.object,e)}return n.object}return"object"==typeof e&&e?(It[r]={tween:i,object:e,propNormaliseRequired:!1},It[r].object):e}function Ft(t,e,i){return e?t?"undefined"!=typeof window&&t===window||"undefined"!=typeof document&&t===document?[t]:"string"==typeof t?!!document.querySelectorAll&&document.querySelectorAll(t):Array.isArray(t)?t:t.nodeType?[t]:i?t:[]:null:t?"undefined"!=typeof window&&t===window||"undefined"!=typeof document&&t===document?t:"string"==typeof t?!!document.querySelector&&document.querySelector(t):Array.isArray(t)?t[0]:t.nodeType||i?t:null:null}let xt=0;const Nt=J.Linear.None;class Ct{static fromTo(t,e,i,r={}){r.quickRender=r.quickRender?r.quickRender:!i;const n=new Ct(t,e).to(i,r);return r.quickRender&&(n.render().update(n._startTime),n._rendered=!1,n._onStartCallbackFired=!1),n}static to(t,e,i){return Ct.fromTo(t,null,e,i)}static from(t,e,i){return Ct.fromTo(t,e,null,i)}constructor(t,e){return this.id=xt++,!t||"object"!=typeof t||e||t.nodeType?t&&(t.nodeType||t.length||"string"==typeof t)&&(t=this.node=Ft(t),e=this.object=Pt(t,e,this)):(e=this.object=t,t=null),this._valuesEnd=null,this._valuesStart=Array.isArray(e)?[]:{},this._duration=1e3,this._easingFunction=Nt,this._easingReverse=Nt,this._interpolationFunction=Lt.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}setMaxListener(t=15){return this._maxListener=t,this}on(t,e){const{_maxListener:i}=this,r=t+it;for(let t=0;t<i;t++){const i=r+t;if(!this[i]){this[i]=e;break}}return this}once(t,e){const{_maxListener:i}=this,r=t+it;for(let t=0;t<i;t++){const i=r+t;if(!this[i]){this[i]=(...t)=>{e.apply(this,t),this[i]=null};break}}return this}off(t,e){const{_maxListener:i}=this,r=t+it;for(let t=0;t<i;t++){const i=r+t;this[i]===e&&(this[i]=null)}return this}emit(t,e,i,r){const{_maxListener:n}=this,s=t+it;if(!this[s+0])return this;for(let t=0;t<n;t++){const n=s+t;this[n]&&this[n](e,i,r)}return this}isPlaying(){return this._isPlaying}isStarted(){return this._onStartCallbackFired}reverse(t){const{_reversed:e}=this;return this._reversed=void 0!==t?t:!e,this}reversed(){return this._reversed}pause(){return this._isPlaying?(this._isPlaying=!1,W(this),this._pausedTime=j(),this.emit(lt,this.object)):this}play(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=j()-this._pausedTime,this._initTime=this._startTime,D(this),this._pausedTime=j(),this.emit(ut,this.object))}restart(t){return this._repeat=this._r,this.reassignValues(),D(this),this.emit(ft,this.object)}seek(t,e){const{_duration:i,_initTime:r,_startTime:n,_reversed:s}=this;let o=r+t;return this._isPlaying=!0,o<n&&n>=r&&(this._startTime-=i,this._reversed=!s),this.update(t,!1),this.emit(ct,t,this.object),e?this:this.pause()}duration(t){return this._duration="function"==typeof t?t(this._duration):t,this}to(t,e=1e3,i){if(this._valuesEnd=t,"number"==typeof e||"function"==typeof e)this._duration="function"==typeof e?e(this._duration):e;else if("object"==typeof e)for(const t in e)if("function"==typeof this[t]){const[i=null,r=null,n=null,s=null]=Array.isArray(e[t])?e[t]:[e[t]];this[t](i,r,n,s)}return this}render(){if(this._rendered)return this;let{_valuesStart:t,_valuesEnd:e,object:i,node:r,InitialValues:n}=this;if(jt(i),jt(e),r&&r.queueID&&It[r.queueID]){const t=It[r.queueID];if(t.propNormaliseRequired&&t.tween!==this){for(const i in e)t.tween._valuesEnd[i];t.normalisedProp=!0,t.propNormaliseRequired=!1}}if(r&&n&&(i&&0!==Object.keys(i).length?e&&0!==Object.keys(e).length||(e=this._valuesEnd=n(r,i)):i=this.object=Pt(r,n(r,e),this)),!t.processed){for(const r in e){let n=i&&i[r]&&mt(i[r]),s=e[r];if(!($[r]&&$[r].init&&($[r].init.call(this,n,s,r,i),void 0===n&&t[r]&&(n=t[r]),$[r].skipProcess))&&!("number"==typeof n&&isNaN(n)||null===n||null===s||!1===n||!1===s||void 0===n||void 0===s||n===s)){if(t[r]=n,Array.isArray(s))if(Array.isArray(n))s.isString&&i[r].isString&&!n.isString?n.isString=!0:Tt(r,i,t,e);else{s.unshift(n);for(let t=0,e=s.length;t<e;t++)"string"==typeof s[t]&&(s[t]=bt(s[t]))}else Tt(r,i,t,e);"number"!=typeof n||"string"!=typeof s||s[1]}}t.processed=!0}return Ct.Renderer&&this.node&&Ct.Renderer.init&&(Ct.Renderer.init.call(this,i,t,e),this.__render=!0),this._rendered=!0,this}start(t){return this._startTime=void 0!==t?"string"==typeof t?j()+parseFloat(t):t:j(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,D(this),this}stop(){let{_isPlaying:t,_isFinite:e,object:i,_startTime:r,_duration:n,_r:s,_yoyo:o,_reversed:a}=this;if(!t)return this;let l=e?(s+1)%2==1:!a;return this._reversed=!1,o&&l?this.update(r):this.update(r+n),W(this),this.emit(ht,i)}delay(t){return this._delayTime="function"==typeof t?t(this._delayTime):t,this}chainedTweens(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(let t=0,e=this._chainedTweensCount;t<e;t++)this[et+t]=arguments[t];return this}repeat(t){return this._repeat=this._duration?"function"==typeof t?t(this._repeat):t:0,this._r=this._repeat,this._isFinite=isFinite(t),this}reverseDelay(t){return this._reverseDelayTime="function"==typeof t?t(this._reverseDelayTime):t,this}yoyo(t,e){return this._yoyo="function"==typeof t?t(this._yoyo):null===t?this._yoyo:t,t||(this._reversed=!1),this._easingReverse=e||null,this}easing(t){return this._easingFunction=t,this}interpolation(t){return"function"==typeof t&&(this._interpolationFunction=t),this}reassignValues(t){const{_valuesStart:e,object:i,_delayTime:r}=this;this._isPlaying=!0,this._startTime=void 0!==t?t:j(),this._startTime+=r,this._reversed=!1,D(this);for(const t in e){const r=e[t];i[t]=r}return this}update(t,e,i){let r,n,s,{_onStartCallbackFired:o,_easingFunction:a,_interpolationFunction:l,_easingReverse:u,_repeat:f,_delayTime:h,_reverseDelayTime:c,_yoyo:p,_reversed:d,_startTime:m,_prevTime:y,_duration:_,_valuesStart:g,_valuesEnd:b,object:T,_isFinite:v,_isPlaying:w,__render:A,_chainedTweensCount:E}=this,M=0;if(_){let e=(t=void 0!==t?t:j())-y;if(this._prevTime=t,e>250&&Y()&&Z()&&(t-=e-tt),!w||t<m&&!i)return!0;r=(t-m)/_,r=r>1?1:r,r=d?1-r:r}else r=1,f=0;if(o||(this._rendered||(this.render(),this._rendered=!0),this.emit(st,T),this._onStartCallbackFired=!0),n=d&&u||a,!T)return!0;for(s in b){const t=g[s];if(!(null!=t||$[s]&&$[s].update))continue;const e=b[s],i=n[s]?n[s](r):"function"==typeof n?n(r):Nt(r),o=l[s]?l[s]:"function"==typeof l?l:Lt.Linear;"number"==typeof e?T[s]=t+(e-t)*i:!Array.isArray(e)||e.isString||Array.isArray(t)?e&&e.update?e.update(i):"function"==typeof e?T[s]=e(i):"string"==typeof e&&"number"==typeof t?T[s]=t+parseFloat(e[0]+e.substr(2))*i:Et(s,T,g,b,i,r):T[s]=o(e,i,T[s]),$[s]&&$[s].update&&$[s].update.call(this,T[s],t,e,i,r,s),M++}if(!M)return W(this),!1;if(A&&Ct.Renderer&&Ct.Renderer.update&&Ct.Renderer.update.call(this,T,r),this.emit(rt,T,r,t),1===r||d&&0===r){if(f>0&&_>0){if(v&&this._repeat--,p)this._reversed=!d;else for(s in b){let t=b[s];"string"==typeof t&&"number"==typeof g[s]&&(g[s]+=parseFloat(t[0]+t.substr(2)))}return this.emit(p&&!d?at:ot,T),this._startTime=d&&c?t-c:t+h,!0}if(e||(this._isPlaying=!1,W(this),xt--),this.emit(nt,T),this._repeat=this._r,E)for(let e=0;e<E;e++)this[et+e].start(t+_);return!1}return!0}}class kt{constructor(){this.totalTime=0,this.labels=[],this.offsets=[]}parseLabel(t,e){const{offsets:i,labels:r}=this;let n=r.indexOf(t);if("string"==typeof t&&-1!==t.indexOf("=")&&!e&&-1===n){const i=t.substr(t.indexOf("=")-1,2),s=t.split(i);e=2===s.length?i+s[1]:null,t=s[0],n=r.indexOf(t)}if(-1!==n&&t){let t=i[n]||0;if("number"==typeof e)t=e;else if("string"==typeof e&&-1!==e.indexOf("=")){const i=e.charAt(0);e=Number(e.substr(2)),"+"===i||"-"===i?t+=parseFloat(i+e):"*"===i?t*=e:"/"===i?t/=e:"%"===i&&(t*=e/100)}return t}return"number"==typeof e?e:0}addLabel(t,e){return this.labels.push(t),this.offsets.push(this.parseLabel(t,e)),this}setLabel(t,e){const i=this.labels.indexOf(t);return-1!==i&&this.offsets.splice(i,1,this.parseLabel(t,e)),this}eraseLabel(t){const e=this.labels.indexOf(t);return-1!==e&&(this.labels.splice(e,1),this.offsets.splice(e,1)),this}}let qt=0;class Dt extends Ct{constructor(t){return super(),this._duration=0,this._startTime=t&&void 0!==t.startTime?t.startTime:j(),this._tweens=[],this.elapsed=0,this._id=qt++,this._defaultParams=t,this.position=new kt,this.position.addLabel("afterLast",this._duration),this.position.addLabel("afterInit",this._startTime),this._onStartCallbackFired=!1,this}mapTotal(t){return t.call(this,this._tweens),this}timingOrder(t){const e=t(this._tweens.map((t=>t._startTime)));return this._tweens.map(((t,i)=>{t._startTime=e[i]})),this}getTiming(t,e,i,r=0){if("reverse"===t){const{stagger:t}=i,n=(t||0)*(e.length-1);return e.map(((e,i)=>n-(t||0)*i+r))}if("async"===t)return e.map((t=>r));if("sequence"===t||"delayed"===t){let{stagger:t}=i;return t||(t=(i.duration||1e3)/(e.length-1)),e.map(((e,i)=>t*i+r))}if("oneByOne"===t)return e.map((t=>i.duration));if("shuffle"===t){const{stagger:t}=i;return(t=>{let e,i,r;for(r=t.length;r;r-=1)e=Math.floor(Math.random()*r),i=t[r-1],t[r-1]=t[e],t[e]=i;return t})(e.map(((e,i)=>(t||0)*i+r)))}{const{stagger:t}=i;return e.map(((e,i)=>(t||0)*i+r))}}fromTo(t,e,i,r){if((t=Ft(t,!0,!0))&&t.length){this._defaultParams&&(r=r?{...this._defaultParams,...r}:this._defaultParams);const n=r.label,s="number"==typeof n?n:this.position.parseLabel(void 0!==n?n:"afterLast",null),o=this.getTiming(r.mode,t,r,s);for(let n,s=0,a=t.length;s<a;s++)n=t[s],this.add(Ct.fromTo(n,"function"==typeof e?e(s,t.length):"object"==typeof e&&e?{...e}:null,"function"==typeof i?i(s,t.length):i,"function"==typeof r?r(s,t.length):r),o[s])}return this.start()}from(t,e,i){return this.fromTo(t,e,null,i)}to(t,e,i){return this.fromTo(t,null,e,i)}addLabel(t,e){return this.position.addLabel(t,e),this}map(t){for(let e=0,i=this._tweens.length;e<i;e++){const i=this._tweens[e];t(i,e),this._duration=Math.max(this._duration,i._duration+i._startTime)}return this}add(t,e){if(Array.isArray(t))return t.map((t=>{this.add(t,e)})),this;"object"!=typeof t||t instanceof Ct||(t=new Ct(t.from).to(t.to,t));const{_defaultParams:i,_duration:r}=this;if(i)for(const e in i)"function"==typeof t[e]&&t[e](i[e]);const n="number"==typeof e?e:this.position.parseLabel(void 0!==e?e:"afterLast",null);return t._startTime=Math.max(this._startTime,t._delayTime,n),t._delayTime=n,t._isPlaying=!0,this._duration=Math.max(r,Math.max(t._startTime+t._delayTime,t._duration)),this._tweens.push(t),this.position.setLabel("afterLast",this._duration),this}restart(){return this._startTime+=j(),D(this),this.emit(ft)}easing(t){return this.map((e=>e.easing(t)))}interpolation(t){return this.map((e=>e.interpolation(t)))}update(t){const{_tweens:e,_duration:i,_reverseDelayTime:r,_startTime:n,_reversed:s,_yoyo:o,_repeat:a,_isFinite:l,_isPlaying:u,_prevTime:f,_onStartCallbackFired:h}=this;let c,p=(t=void 0!==t?t:j())-f;if(this._prevTime=t,p>250&&Y()&&Z()&&(t-=p-tt),!u||t<n)return!0;c=(t-n)/i,c=c>1?1:c,c=s?1-c:c,this.elapsed=c,h||(this.emit(st),this._onStartCallbackFired=!0);const d=t-n,m=s?i-d:d;let y=0;for(;y<e.length;)e[y].update(m),y++;if(this.emit(rt,c,d),1===c||s&&0===c){if(a){for(l&&this._repeat--,this.emit(s?at:ot),o&&(this._reversed=!s,this.timingOrder((t=>t.reverse()))),this._startTime=s&&r?t+r:t,y=0;y<e.length;)e[y].reassignValues(t),y++;return!0}return this.emit(nt),this._repeat=this._r,W(this),this._isPlaying=!1,!1}return!0}progress(t){return void 0!==t?this.update(t*this._duration):this.elapsed}}const Ut=(t,e)=>{let i=Array.isArray(t)&&!t.isString,r="string"==typeof t?t:i?t.slice():{...t};if(i)for(let i=0,n=t.length;i<n;i++)t[i]===e[i]&&"number"==typeof t[i]&&"number"!=typeof e[i]||Tt(i,r,t,e);else if("object"==typeof t)for(let i in t)t[i]===e[i]&&"number"==typeof t[i]&&"number"!=typeof e[i]||Tt(i,r,t,e);else if("string"==typeof t){t=bt(t),e=bt(e);let i=1;for(;i<t.length;)t[i]===e[i]&&"string"==typeof t[i-1]?(t.splice(i-1,2,t[i-1]+t[i]),e.splice(i-1,2,e[i-1]+e[i])):i++}return n=>{if(i)for(let i=0,s=t.length;i<s;i++)Et(i,r,t,e,n);else if("object"==typeof r)for(let i in t)Et(i,r,t,e,n);else"string"==typeof r&&(r=Et(0,0,t,e,n,n,!0));return r}};export{J as Easing,V as FrameThrottle,Lt as Interpolation,Ut as Interpolator,$ as Plugins,Ft as Selector,Dt as Timeline,B as ToggleLagSmoothing,Ct as Tween,D as add,z as autoPlay,K as get,G as getAll,H as has,Y as isRunning,j as now,q as onRequestTick,U as onTick,W as remove,Q as removeAll,X as update,Rt as utils};export default null;
//# sourceMappingURL=/sm/0439a06baa1f50e62c7ab97ed27661726afef0631009a1878c4a2799bcc37bb0.map